(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{157:function(e,t,a){},158:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(62),c=a.n(i),s=(a(73),a.p,a(74),a(18)),r=a(30),u=a.n(r),l=a(25),d=(a(75),a(1)),p=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=(t[0],t[1],Object(n.useState)("")),o=Object(s.a)(a,2),i=(o[0],o[1]),c=Object(n.useState)(""),r=Object(s.a)(c,2),p=r[0],m=r[1];return Object(d.jsx)("div",{className:"joinOuterContainer",children:Object(d.jsxs)("div",{className:"joinInnerContainer",children:[Object(d.jsx)("h1",{className:"heading",children:"Login to create a room."}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",className:"joinInput",placeholder:"Name",required:!0,onChange:function(e){return i(e.target.value)}}),Object(d.jsx)("input",{type:"text",className:"joinInput",placeholder:"Room",required:!1,onChange:function(e){return m(e.target.value)}})]}),""===p?m(u()()+(new Date).getTime()):p,Object(d.jsx)(l.b,{to:"/room?id=".concat(p),children:Object(d.jsx)("button",{className:"btn",type:"submit",children:"Make a room"})}),Object(d.jsxs)("p",{className:"p",children:["Share the uid present in the URL with friends for collaborating"," "]})]})})},m=a(33),g=a.n(m),j=a(64),b=a(65),h=a.n(b),x=(a(87),a(66)),v=a.n(x),f=(a(105),a(106),a(107),a(108),a(109),a(110),a(111),a(112),a(113),a(114),a(115),a(67)),O=a.n(f),y=(a(117),a(118),a(119),a(120),a(121),a(122),a(123),a(124),a(125),a(126),a(127),a(68)),w=a.n(y),S=(a(157),w.a.connect("https://pair-coding-app.herokuapp.com/")),C=function(e){var t=e.location,a=O.a.parse(t.search),o=Object(n.useState)({text:"",langauge:"54",theme:"terminal",input:"",output:""}),i=Object(s.a)(o,2),c=i[0],r=i[1];Object(n.useEffect)((function(){console.log("new user joined"),S.emit("join",a.id);window.localStorage.getItem("".concat(a.id));if(null===window.localStorage.getItem("".concat(a.id)));else{var e=JSON.parse(window.localStorage.getItem("".concat(a.id))),t={text:e.text||c.text,langauge:e.langauge||c.langauge,theme:e.theme||c.theme,input:e.input||c.input,output:e.output||c.output};r(t)}}),[]),Object(n.useEffect)((function(){S.on("data",(function(e){console.log("data",e),console.log("incoming-text",e.data.data)," "!==e.data.data.text&&r(e.data.data)})),window.localStorage.setItem("".concat(a.id),JSON.stringify(c))}));var u=function(e){var t={text:c.text,langauge:c.langauge,theme:c.theme,input:c.input,output:e};r(t);var n={room:a.id,data:t};S.emit("data",n),window.localStorage.setItem("".concat(a.id),JSON.stringify(t))};onsubmit=function(){var e=Object(j.a)(g.a.mark((function e(t){var a,n,o,i,s,r,l,d,p,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=document.getElementById("output1")).value="",a.value+="Creating Submission ...\n",u(a.value),e.next=7,fetch("https://judge0-ce.p.rapidapi.com/submissions",{method:"POST",headers:{"x-rapidapi-host":"judge0-ce.p.rapidapi.com","x-rapidapi-key":"ceb7f56f31msh830547702c628b7p142b50jsn88f1d5083ecf","content-type":"application/json",accept:"application/json"},body:JSON.stringify({source_code:c.text,stdin:c.input,language_id:parseInt(c.langauge)})});case 7:return n=e.sent,o={source_code:c.text,stdin:c.input,language_id:c.langauge},console.log("body",o),a.value+="Submission Created ...\n",u(a.value),e.next=14,n.json();case 14:i=e.sent,console.log("json-response",i),s={status:{description:"Queue"},stderr:null,compile_output:null};case 17:if("Accepted"===s.status.description||null!=s.stderr||null!=s.compile_output){e.next=31;break}if(a.innerHTML="Creating Submission ... \nSubmission Created ...\nChecking Submission Status\nstatus : ".concat(s.status.description),u(a.value),!i.token){e.next=29;break}return r="https://judge0-ce.p.rapidapi.com/submissions/".concat(i.token,"?base64_encoded=true"),e.next=24,fetch(r,{method:"GET",headers:{"x-rapidapi-host":"judge0-ce.p.rapidapi.com","x-rapidapi-key":"ceb7f56f31msh830547702c628b7p142b50jsn88f1d5083ecf","content-type":"application/json"}});case 24:return l=e.sent,e.next=27,l.json();case 27:s=e.sent,console.log(s);case 29:e.next=17;break;case 31:s.stdout?(d=atob(s.stdout),a.value="",a.value+="Results : ".concat(d,"\nExecution Time : ").concat(s.time," Secs\nMemory used : ").concat(s.memory," bytes"),u(a.value)):s.stderr?(p=atob(s.stderr),console.log(p),a.value="",a.value+="\n Error :".concat(p),u(a.value)):(m=atob(s.compile_output),console.log(m),a.value="",a.value+="\n Error :".concat(m),console.log(a.value),u(a.value));case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var l=new Map;return l.set(54,"c_cpp"),l.set(71,"python"),l.set(62,"java"),l.set(60,"golang"),l.set(63,"javascript"),l.set(68,"php"),Object(d.jsxs)("div",{className:"compiler",children:[Object(d.jsx)(h.a,{mode:l.get(parseInt(c.langauge)),theme:c.theme,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,behavioursEnabled:!0,displayIndentGuides:!0,showInvisibles:!0},className:"editor",highlightActiveLine:!0,commands:[v.a.commands,{name:"removeline",bindKey:{win:"Ctrl-X",mac:"Command-X"},exec:"removeline"},{name:"copyline",bindKey:{win:"Ctrl-C",mac:"Command-C"},exec:"copyline"},{name:"copyline",bindKey:{win:"Ctrl-C",mac:"Command-C"},exec:"copyline"},{name:"format",bindKey:{win:"Ctrl-Shift-b",mac:"Command-Shift-b"},exec:"beautify"}],fontSize:"15px",name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!1},style:{height:700,width:800,display:"flex",justifyContent:"center",font:50,whiteSpace:"pre-wrap"},value:c.text,onChange:function(e){var t={text:e,langauge:c.langauge,theme:c.theme,input:c.input,output:c.output},n={room:a.id,data:t};S.emit("data",n),r(t),window.localStorage.setItem("".concat(a.id),JSON.stringify(t))}}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("select",{onChange:function(e){return function(e){var t={text:c.text,langauge:e,theme:c.theme,input:c.input,output:c.output};r(t);var n={room:a.id,data:t};S.emit("data",n),window.localStorage.setItem("".concat(a.id),JSON.stringify(t))}(e.target.value)},className:"langauges",value:c.langauge,children:[Object(d.jsx)("option",{value:"54",children:"C++"}),Object(d.jsx)("option",{value:"71",children:"python"}),Object(d.jsx)("option",{value:"62",children:"java"}),Object(d.jsx)("option",{value:"60",children:"golang"}),Object(d.jsx)("option",{value:"63",children:"javascript"}),Object(d.jsx)("option",{value:"68",children:"PHP"})]}),Object(d.jsxs)("select",{onChange:function(e){return function(e){var t={text:c.text,langauge:c.langauge,theme:e,input:c.input,output:c.output};r(t);var n={room:a.id,data:t};S.emit("data",n),window.localStorage.setItem("".concat(a.id),JSON.stringify(t))}(e.target.value)},className:"themes",value:c.theme,children:[Object(d.jsx)("option",{value:"terminal",children:"terminal"}),Object(d.jsx)("option",{value:"monokai",children:"monokai"}),Object(d.jsx)("option",{value:"xcode",children:"xcode"}),Object(d.jsx)("option",{value:"github",children:"github"}),Object(d.jsx)("option",{value:"solarized_dark",children:"solarized_dark"}),Object(d.jsx)("option",{value:"tomorrow",children:"tomorrow"})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"mt-2 ml-5",children:[Object(d.jsxs)("span",{className:"badge badge-primary heading my-2 ",style:{color:"black"},children:[Object(d.jsx)("i",{className:"fas fa-user fa-fw fa-md",style:{color:"black"}})," ","User Input"]}),Object(d.jsx)("br",{}),Object(d.jsx)("textarea",{value:c.input,id:"input1",style:{height:150,width:250,marginTop:25},onChange:function(e){return function(e){var t={text:c.text,langauge:c.langauge,theme:c.theme,input:e,output:c.output};r(t);var n={room:a.id,data:t};S.emit("data",n),window.localStorage.setItem("".concat(a.id),JSON.stringify(t))}(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mt-2 ml-5",children:[Object(d.jsx)("span",{className:"badge badge-primary heading my-2",style:{color:"black"},children:Object(d.jsx)("i",{className:"fas fa-user fa-fw fa-md",children:" Output"})}),Object(d.jsx)("br",{}),Object(d.jsx)("textarea",{value:c.output,id:"output1",style:{height:330,width:438,marginTop:25},onChange:function(e){return u(e.target.value)}})]})]}),Object(d.jsx)("button",{style:{height:50,width:100,marginRight:100,marginTop:25},type:"submit",className:"btn",onClick:function(e){return onsubmit(e)},children:"Submit"})]})},N=a(3);var k=function(){return Object(d.jsxs)(l.a,{children:[Object(d.jsx)(N.a,{path:"/",exact:!0,component:p}),Object(d.jsx)(N.a,{path:"/room",exact:!0,component:C})]})};c.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root"))},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){}},[[158,1,2]]]);
//# sourceMappingURL=main.241753be.chunk.js.map